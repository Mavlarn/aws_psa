<!doctype html><html lang=en class="js csstransforms3d"><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.111.3"><meta name=description content="Amazon Connect路由的原理，以及使用队列实现基于坐席技能的路由"><link rel=icon href=../../images/favicon.png type=image/png><title>Connect路由原理以及使用队列实现基于技能的路由 :: AWS China Partner Workshop</title><link href=../../css/nucleus.css?1680873229 rel=stylesheet><link href=../../css/fontawesome-all.min.css?1680873229 rel=stylesheet><link href=../../css/hybrid.css?1680873229 rel=stylesheet><link href=../../css/featherlight.min.css?1680873229 rel=stylesheet><link href=../../css/perfect-scrollbar.min.css?1680873229 rel=stylesheet><link href=../../css/auto-complete.css?1680873229 rel=stylesheet><link href=../../css/atom-one-dark-reasonable.css?1680873229 rel=stylesheet><link href=../../css/theme.css?1680873229 rel=stylesheet><link href=../../css/tabs.css?1680873229 rel=stylesheet><link href=../../css/hugo-theme.css?1680873229 rel=stylesheet><script src=../../js/jquery-3.3.1.min.js?1680873229></script><style>:root #header+#content>#left>#rlblock_left{display:none!important}</style></head><body data-url=../../workshop_connect_agent/3-agent_skill_by_queue/><nav id=sidebar><div id=header-wrapper><div id=header><div><a href=../../ title="Go home"><img style=vertical-align:middle src=../../images/logo.png height=70px></a></div></div><div class=searchbox><label for=search-by><i class="fas fa-search"></i></label>
<input data-search-input id=search-by type=search placeholder=Search...>
<span data-search-clear><i class="fas fa-times"></i></span></div><script type=text/javascript src=../../js/lunr.min.js?1680873229></script>
<script type=text/javascript src=../../js/auto-complete.js?1680873229></script>
<script type=text/javascript>var baseurl=""</script><script type=text/javascript src=../../js/search.js?1680873229></script></div><section id=homelinks><ul><li><a class=padding href=../../><i class='fas fa-home'></i> Home</a></li></ul></section><div class=highlightable><ul class=topics><li data-nav-id=/connect/ title="Amazon Connect" class=dd-item><a href=../../connect/>Amazon Connect</a><ul><li data-nav-id=/connect/configure-amazon-connect-keycloak-with-saml-sso/ title="配置Amazon Connect使用Keycloak SAML进行单点登录" class=dd-item><a href=../../connect/configure-amazon-connect-keycloak-with-saml-sso/>配置Amazon Connect使用Keycloak SAML进行单点登录</a></li><li data-nav-id=/connect/configure-amazon-connect-and-authing-with-saml-sso/ title="配置Amazon Connect使用 Authing SAML进行单点登录" class=dd-item><a href=../../connect/configure-amazon-connect-and-authing-with-saml-sso/>配置Amazon Connect使用 Authing SAML进行单点登录</a></li><li data-nav-id=/connect/post-review-with-contact-flow/ title="Amazon Connect实现客户评分反馈" class=dd-item><a href=../../connect/post-review-with-contact-flow/>Amazon Connect实现客户评分反馈</a></li></ul></li><li data-nav-id=/gaming/ title="Amazon GameTech" class=dd-item><a href=../../gaming/>Amazon GameTech</a></li><li data-nav-id=/workshop_connect_agent/ title="Amazon Connect Agent workshop" class="dd-item
parent"><a href=../../workshop_connect_agent/>Amazon Connect Agent workshop</a><ul><li data-nav-id=/workshop_connect_agent/2-agent_basic_functions/ title=坐席基本功能设置 class=dd-item><a href=../../workshop_connect_agent/2-agent_basic_functions/>坐席基本功能设置</a></li><li data-nav-id=/workshop_connect_agent/3-agent_skill_by_queue/ title=Connect路由原理以及使用队列实现基于技能的路由 class="dd-item
active"><a href=../../workshop_connect_agent/3-agent_skill_by_queue/>Connect路由原理以及使用队列实现基于技能的路由</a></li><li data-nav-id=/workshop_connect_agent/4-quick-connect-transfer-call/ title="通过Quick Connect实现电话转接" class=dd-item><a href=../../workshop_connect_agent/4-quick-connect-transfer-call/>通过Quick Connect实现电话转接</a></li></ul></li><li data-nav-id=/pinpoint/ title=Pinpoints class=dd-item><a href=../../pinpoint/>Pinpoints</a><ul><li data-nav-id=/pinpoint/using-pinpoint-event-analytics-in-plain-js-webapp/ title="在纯JS应用中使用 Amazon Pinpoint 的 Analytics 用户行为分析" class=dd-item><a href=../../pinpoint/using-pinpoint-event-analytics-in-plain-js-webapp/>在纯JS应用中使用 Amazon Pinpoint 的 Analytics 用户行为分析</a></li><li data-nav-id=/pinpoint/customer-engagement-using-amazon-pinpoint-custom-channel/ title="使用 Amazon Pinpoint 的Custom Channel给用户发送 Whatsapp 消息" class=dd-item><a href=../../pinpoint/customer-engagement-using-amazon-pinpoint-custom-channel/>使用 Amazon Pinpoint 的Custom Channel给用户发送 Whatsapp 消息</a></li></ul></li></ul><section id=footer><left><h5 class=copyright>&copy; 2022 Amazon Web Services, Inc. or its Affiliates. All rights reserved.<h5><h5>@Author Mavlarn<h5></left></section></div></nav><section id=body><div id=overlay></div><div class="padding highlightable"><div><div id=top-bar><div id=breadcrumbs itemscope itemtype=http://data-vocabulary.org/Breadcrumb><span id=sidebar-toggle-span><a href=# id=sidebar-toggle data-sidebar-toggle><i class="fas fa-bars"></i></a></span>
<span id=toc-menu><i class="fas fa-list-alt"></i></span>
<span class=links><a href=../../></a> > <a href=../../workshop_connect_agent/>Amazon Connect Agent workshop</a> > Connect路由原理以及使用队列实现基于技能的路由</span></div><div class=progress><div class=wrapper><nav id=TableOfContents><ul><li><a href=#创建队列>创建队列</a></li><li><a href=#修改或创建-routing-profile>修改或创建 Routing Profile</a></li><li><a href=#设置-user---routing-profile>设置 User - Routing Profile</a></li><li><a href=#配置-contact-flow>配置 Contact Flow</a></li></ul></nav></div></div></div></div><div id=head-tags><div class=tags><a class=tag-link href=../../tags/amazon-connect>Amazon Connect</a>
<a class=tag-link href=../../tags/agent>Agent</a></div></div><div id=body-inner><h1>Connect路由原理以及使用队列实现基于技能的路由</h1><p>Amazon Connect使用队列(Queue)和路由配置(Routing Profile)实现基于坐席技能的路由。坐席-路由配置-队列之间的关系如下：</p><p><img src="1-agent-routingprofile-queue.jpg?width=600px&amp;featherlight=false" alt></p><p>每个坐席用户(User)都有一个 <em>RoutingProfile(路由配置)</em>，而每个 <em>RoutingProfile</em> 都跟多个队列(Queue)关联。</p><p>当一个联系电话接入以后：</p><ol><li>会由跟电话号码关联的联系流 <em>Contact Flow</em> 处理，在这个 <em>Contact Flow</em> 中，会设置要转到某个队列（也可能直接转给某个Agent）。</li><li>根据 Queue 和 <em>Routing Profile</em> 和 Agent 的关系，该来电会被自动分发给下一个可用的 Agent（处于空闲时间最长的 Agent）。</li><li>也可以通过设置工作时间 <em>hours of operation</em>，来设置某个队列的工作时间，只有在工作时间内，来电才会转接到队列内的坐席。</li></ol><h2 id=创建队列>创建队列</h2><p>首先，我们需要为不同的用户类型，或者技能组，创建不同的队列。进入 Connect 的管理界面，从左侧的菜单找到 Routing - Queues，然后点击添加创建新的队列：
<img src="2-queue-create.jpg?width=800px&amp;featherlight=false" alt></p><p>这里输入队列名称和描述，一般还需要设置 <em>Outbound caller configuration</em>，这时设置在外呼的时候，外呼使用的号码和流程。其中有些地区还需要设置 <em>Caller ID</em>。</p><p><em>Quick connects</em> 就是可以从这个队列的来电进行转接时，能够转接到哪些 <em>quick connect</em>。</p><p>最后，也可以设置 Tags 标签，这些标签用于进行基于标签的权限控制，也可以在查询指标数据的时候，根据标签进行查询。</p><h2 id=修改或创建-routing-profile>修改或创建 Routing Profile</h2><p>接下来就是创建 <em>Routing Profile</em>，在管理界面，找到菜单 Users - Routing Profiles，创建新的配置：
<img src="3-routing-profile-create.jpg?width=800px&amp;featherlight=false" alt>
需要的配置如下：</p><ol><li>名称和描述</li><li>Set channels and concurrenc，设置可以通过该队列，接收哪些类型的联系请求。对于 Voice(电话) 类型，同时只能接听一路电话，而队列文本消息和任务，可以设置最多可以同时处理的数量。</li><li>Queues，设置该配置关联的队列，可以设置多个，并配置每个队列里能接收的channels，以及优先级、延时。通过这个优先级可以将不同级别的客户联系转发到不同级别的队列，坐席在接听的时候，会优先接听高优先级的（数字越低优先级越高），如果优先级一样，则优先处理延时低的。</li><li>Default outbound queue，即默认呼出队列，当通过配置或API进行自动外呼时，如果需要坐席接听外呼的电话，则有这个来配置由哪个队列的坐席接听外呼时的电话。</li><li>Tags，即标签，与上面的一样，用于基于标签的权限控制和指标查询。</li></ol><h2 id=设置-user---routing-profile>设置 User - Routing Profile</h2><p>然后，从菜单 Users - User management 进入用户管理列表，找到要设置的用户，设置关联的 <em>Routing Profile</em> ：
<img src="4-user-routing-profile.jpg?width=800px&amp;featherlight=false" alt></p><h2 id=配置-contact-flow>配置 Contact Flow</h2><p>最后，需要在 <em>Contact Flow</em> 里配置要转发的队列，最基本的 <em>Contact Flow</em> 如下所示：
<img src="2-basic-contact-flow.jpg?width=800px&amp;featherlight=false" alt></p><p>这里首先通过 <em>Set working queue</em> 设置要转发的队列，一般我们可以在这里配置要转发到哪个队列，比如下面就是转发到 <em>BasicQueue</em> 队列：
<img src="2-basic-contact-flow-set-queue1.jpg?width=900px&amp;featherlight=false" alt></p><p>这里也可以动态的设置目标的队列，或者直接设置某一个Agent。</p><p>然后再通过 <em>Transfer to queue</em> 转移，最后一个 <em>Disconnect</em> 的Block表示这个流程的自动的部分结束，这时该队列里的坐席就会弹出电话，进行接听。</p><footer class=footline></footer></div></div><div id=navigation><a class="nav nav-prev" href=../../workshop_connect_agent/2-agent_basic_functions/ title=坐席基本功能设置><i class="fa fa-chevron-left"></i></a>
<a class="nav nav-next" href=../../workshop_connect_agent/4-quick-connect-transfer-call/ title="通过Quick Connect实现电话转接" style=margin-right:0><i class="fa fa-chevron-right"></i></a></div></section><div style=left:-1000px;overflow:scroll;position:absolute;top:-1000px;border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px><div style=border:none;box-sizing:content-box;height:200px;margin:0;padding:0;width:200px></div></div><script src=../../js/clipboard.min.js?1680873229></script>
<script src=../../js/perfect-scrollbar.min.js?1680873229></script>
<script src=../../js/perfect-scrollbar.jquery.min.js?1680873229></script>
<script src=../../js/jquery.sticky.js?1680873229></script>
<script src=../../js/featherlight.min.js?1680873229></script>
<script src=../../js/highlight.pack.js?1680873229></script>
<script>hljs.initHighlightingOnLoad()</script><script src=../../js/modernizr.custom-3.6.0.js?1680873229></script>
<script src=../../js/learn.js?1680873229></script>
<script src=../../js/hugo-learn.js?1680873229></script>
<script src=../../mermaid/mermaid.js?1680873229></script>
<script>mermaid.initialize({startOnLoad:!0})</script></body></html>