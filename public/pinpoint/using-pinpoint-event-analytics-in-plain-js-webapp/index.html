<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.104.3" />
    <meta name="description" content="在纯JS应用中使用 Amazon Pinpoint 的 Analytics 用户行为分析">


    <link rel="icon" href="../../images/favicon.png" type="image/png">

    <title>在纯JS应用中使用 Amazon Pinpoint 的 Analytics 用户行为分析 :: AWS China Partner Workshop</title>

    
    <link href="../../css/nucleus.css?1679121177" rel="stylesheet">
    <link href="../../css/fontawesome-all.min.css?1679121177" rel="stylesheet">
    <link href="../../css/hybrid.css?1679121177" rel="stylesheet">
    <link href="../../css/featherlight.min.css?1679121177" rel="stylesheet">
    <link href="../../css/perfect-scrollbar.min.css?1679121177" rel="stylesheet">
    <link href="../../css/auto-complete.css?1679121177" rel="stylesheet">
    <link href="../../css/atom-one-dark-reasonable.css?1679121177" rel="stylesheet">
    <link href="../../css/theme.css?1679121177" rel="stylesheet">
    <link href="../../css/tabs.css?1679121177" rel="stylesheet">
    <link href="../../css/hugo-theme.css?1679121177" rel="stylesheet">
    
    

    <script src="../../js/jquery-3.3.1.min.js?1679121177"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="../../pinpoint/using-pinpoint-event-analytics-in-plain-js-webapp/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <div>
    <a href="../../" title="Go home">
        <img style="vertical-align:middle" src="../../images/logo.png" height="70px" />
    </a>
</div>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="../../js/lunr.min.js?1679121177"></script>
<script type="text/javascript" src="../../js/auto-complete.js?1679121177"></script>
<script type="text/javascript">
    
        var baseurl = "";
    
</script>
<script type="text/javascript" src="../../js/search.js?1679121177"></script>

    
  </div>
  
    <section id="homelinks">
      <ul>
        <li>
            <a class="padding" href='../../'><i class='fas fa-home'></i> Home</a>
        </li>
      </ul>
    </section>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/connect/" title="Amazon Connect" class="dd-item
        
        
        
        ">
      <a href="../../connect/">
          Amazon Connect
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/connect/configure-amazon-connect-keycloak-with-saml-sso/" title="配置Amazon Connect使用Keycloak SAML进行单点登录" class="dd-item
        
        
        
        ">
      <a href="../../connect/configure-amazon-connect-keycloak-with-saml-sso/">
          配置Amazon Connect使用Keycloak SAML进行单点登录
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/connect/configure-amazon-connect-and-authing-with-saml-sso/" title="配置Amazon Connect使用 Authing SAML进行单点登录" class="dd-item
        
        
        
        ">
      <a href="../../connect/configure-amazon-connect-and-authing-with-saml-sso/">
          配置Amazon Connect使用 Authing SAML进行单点登录
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/connect/post-review-with-contact-flow/" title="Amazon Connect实现客户评分反馈" class="dd-item
        
        
        
        ">
      <a href="../../connect/post-review-with-contact-flow/">
          Amazon Connect实现客户评分反馈
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/connect/connect-plus-solution-design/" title="Amazon Connect&#43;&#43; 解决方案设计" class="dd-item
        
        
        
        ">
      <a href="../../connect/connect-plus-solution-design/">
          Amazon Connect&#43;&#43; 解决方案设计
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/gaming/" title="Amazon GameTech" class="dd-item
        
        
        
        ">
      <a href="../../gaming/">
          Amazon GameTech
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/gaming/using-neptune-graph-database-for-anticheat-in-gaming/" title="利用Neptune图数据库实现游戏中的反欺诈" class="dd-item
        
        
        
        ">
      <a href="../../gaming/using-neptune-graph-database-for-anticheat-in-gaming/">
          利用Neptune图数据库实现游戏中的反欺诈
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/workshops/" title="Amazon Connect workshop" class="dd-item
        
        
        
        ">
      <a href="../../workshops/">
          Amazon Connect workshop
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/pinpoint/" title="Pinpoints" class="dd-item
        parent
        
        
        ">
      <a href="../../pinpoint/">
          Pinpoints
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/pinpoint/using-pinpoint-event-analytics-in-plain-js-webapp/" title="在纯JS应用中使用 Amazon Pinpoint 的 Analytics 用户行为分析" class="dd-item
        
        active
        
        ">
      <a href="../../pinpoint/using-pinpoint-event-analytics-in-plain-js-webapp/">
          在纯JS应用中使用 Amazon Pinpoint 的 Analytics 用户行为分析
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/pinpoint/customer-engagement-using-amazon-pinpoint-custom-channel/" title="使用 Amazon Pinpoint 的Custom Channel给用户发送 Whatsapp 消息" class="dd-item
        
        
        
        ">
      <a href="../../pinpoint/customer-engagement-using-amazon-pinpoint-custom-channel/">
          使用 Amazon Pinpoint 的Custom Channel给用户发送 Whatsapp 消息
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    

    
    <section id="footer">
      <left>

    <h5 class="copyright">&copy; 2022 Amazon Web Services, Inc. or its Affiliates. All rights reserved.<h5>
    <h5>@Author Mavlarn<h5>

</left>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='../../'></a> > <a href='../../pinpoint/'>Pinpoints</a> > 在纯JS应用中使用 Amazon Pinpoint 的 Analytics 用户行为分析
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#amazon-pinpoint-用户行为分析">Amazon Pinpoint 用户行为分析</a></li>
    <li><a href="#pinpoint-analytics-使用">Pinpoint Analytics 使用</a></li>
    <li><a href="#实现">实现</a>
      <ul>
        <li><a href="#场景介绍和前提">场景介绍和前提</a></li>
        <li><a href="#初始化-amplify-应用">初始化 Amplify 应用</a></li>
        <li><a href="#添加-analytics-服务">添加 analytics 服务</a></li>
        <li><a href="#检查生成的-json-文件">检查生成的 json 文件</a></li>
        <li><a href="#初始化-amplify-analytics">初始化 Amplify Analytics</a></li>
        <li><a href="#记录事件">记录事件</a></li>
        <li><a href="#更新-endpoint-属性">更新 Endpoint 属性</a></li>
      </ul>
    </li>
    <li><a href="#检查-pinpoint">检查 Pinpoint</a>
      <ul>
        <li><a href="#检查-pinpoint-事件">检查 Pinpoint 事件</a></li>
        <li><a href="#创建动态-segment">创建动态 Segment</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
<div class="tags">

  <a class="tag-link" href="../../tags/amazon-pinpoint">Amazon Pinpoint</a>

  <a class="tag-link" href="../../tags/endpoint">Endpoint</a>

  <a class="tag-link" href="../../tags/analytics">Analytics</a>

</div>

        </div>
        
        <div id="body-inner">
          
            <h1>
              
              在纯JS应用中使用 Amazon Pinpoint 的 Analytics 用户行为分析
            </h1>
          

        



	<h2 id="amazon-pinpoint-用户行为分析">Amazon Pinpoint 用户行为分析</h2>
<p>Amazon Pinpoint 的其中一个功能是收集客户端的用户行为，并发送到 AWS Pinpoint 服务中进行汇总分析，并结合动态 Segment 实现用户圈选，以及触发用户旅程（Journey），从而实现自动化的营销功能。</p>
<h2 id="pinpoint-analytics-使用">Pinpoint Analytics 使用</h2>
<p>要使用 Pinpoint Analytics 的用户行为分析功能，我们需要在前端页面或者 App 中，使用相应的 JS 库注册当前用户，并对用户的行为埋点，即记录用户事件。我们有两种方式来使用 JS 库实现埋点。</p>
<ol>
<li>使用 <a href="https://docs.aws.amazon.com/AWSJavaScriptSDK/latest/AWS/Pinpoint.html">Pinpoint JS Sdk</a>。这种方式跟大部分 JS 库的使用类似，就是引入该JS库，在 JS 中初始化 Pinpoint Client，初始化时需要传递认证信息。这样就能在页面中通过 JS 库调用 Pinpoint 的 API 实现各种功能，包括记录事件、创建Segment、Campaign等。</li>
<li>使用 <a href="https://docs.amplify.aws/">Amplify 工具</a>。Amplify 是一系列命令行工具和 JS 库的集合。使用 Amplify，我们可以通过命令行来给我们现有的前端应用添加 AWS 服务，并通过提供的 Amplify 库与后端的 AWS 服务进行交互。例如访问后端的 S3 文件存储服务，DynamoDB 数据库，API Gateway 等等。</li>
</ol>
<p>在本文中，我们就介绍如何使用 Amplify 来为我们的前端应用添加用户分析的功能，并通过用户属性和 Pinpoint 的 Segment 功能，实现动态圈选用户，为后续的 Campaign 或者 用户 Journey 提供支持。</p>
<h2 id="实现">实现</h2>
<h3 id="场景介绍和前提">场景介绍和前提</h3>
<p>本文中，假设我们有一个前端页面是纯 JS 的应用，比如只使用了 JQuery 之类的库实现了前端交互。同时，这样的前端应用往往不会使用 NPM 这样的JS 库依赖管理功能，所以我们希望将 JS 库以及 初始化的方法打包好，在每个页面的 <em>script</em> 标签中引入这个包，然后使用 Pinpoint Analytics 的方法来记录事件。</p>
<blockquote>
<p>如果您的前端应用使用了 Vue、Angular 或 React 等框架，可以参考 <a href="https://docs.amplify.aws/">Amplify 在线文档</a> 中的说明。</p>
</blockquote>
<h3 id="初始化-amplify-应用">初始化 Amplify 应用</h3>
<p>首先，在现有的前端应用的根目录，运行下面的命令初始化 Amplify。（有关 Amplify 工具的安装和设置，请参考<a href="https://docs.amplify.aws/start/getting-started/installation/q/integration/js/">官方文档</a>）</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>amplify-js-app % amplify init
</span></span></code></pre></div><p>将看到如下的日志：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>Note: It is recommended to run this command from the root of your app directory
</span></span><span style="display:flex;"><span>? Enter a name <span style="color:#66d9ef">for</span> the project amplifyjsapp
</span></span><span style="display:flex;"><span>The following configuration will be applied:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Project information
</span></span><span style="display:flex;"><span>| Name: amplifyjsapp
</span></span><span style="display:flex;"><span>| Environment: dev
</span></span><span style="display:flex;"><span>| Default editor: Visual Studio Code
</span></span><span style="display:flex;"><span>| App type: javascript
</span></span><span style="display:flex;"><span>| Javascript framework: none
</span></span><span style="display:flex;"><span>| Source Directory Path: src
</span></span><span style="display:flex;"><span>| Distribution Directory Path: dist
</span></span><span style="display:flex;"><span>| Build Command: npm run-script build
</span></span><span style="display:flex;"><span>| Start Command: npm run-script start
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>? Initialize the project with the above configuration? Yes
</span></span><span style="display:flex;"><span>Using default provider  awscloudformation
</span></span><span style="display:flex;"><span>? Select the authentication method you want to use: AWS profile
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>For more information on AWS Profiles, see:
</span></span><span style="display:flex;"><span>https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-profiles.html
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>? Please choose the profile you want to use MTProj
</span></span><span style="display:flex;"><span>Adding backend environment dev to AWS Amplify app: d39nrrswky58lm
</span></span><span style="display:flex;"><span>⠴ Initializing project in the cloud...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>CREATE_IN_PROGRESS amplify-amplifyjsapp-dev-133145 AWS::CloudFormation::Stack Mon Nov <span style="color:#ae81ff">14</span> <span style="color:#ae81ff">2022</span> 13:31:50 GMT+0800 <span style="color:#f92672">(</span>GMT+08:00<span style="color:#f92672">)</span> User Initiated
</span></span><span style="display:flex;"><span>CREATE_IN_PROGRESS DeploymentBucket                AWS::S3::Bucket            Mon Nov <span style="color:#ae81ff">14</span> <span style="color:#ae81ff">2022</span> 13:31:54 GMT+0800 <span style="color:#f92672">(</span>GMT+08:00<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>CREATE_IN_PROGRESS AuthRole                        AWS::IAM::Role             Mon Nov <span style="color:#ae81ff">14</span> <span style="color:#ae81ff">2022</span> 13:31:55 GMT+0800 <span style="color:#f92672">(</span>GMT+08:00<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>CREATE_IN_PROGRESS UnauthRole                      AWS::IAM::Role             Mon Nov <span style="color:#ae81ff">14</span> <span style="color:#ae81ff">2022</span> 13:31:55 GMT+0800 <span style="color:#f92672">(</span>GMT+08:00<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>CREATE_IN_PROGRESS AuthRole                        AWS::IAM::Role             Mon Nov <span style="color:#ae81ff">14</span> <span style="color:#ae81ff">2022</span> 13:31:56 GMT+0800 <span style="color:#f92672">(</span>GMT+08:00<span style="color:#f92672">)</span> Resource creation Initiated
</span></span><span style="display:flex;"><span>CREATE_IN_PROGRESS DeploymentBucket                AWS::S3::Bucket            Mon Nov <span style="color:#ae81ff">14</span> <span style="color:#ae81ff">2022</span> 13:31:56 GMT+0800 <span style="color:#f92672">(</span>GMT+08:00<span style="color:#f92672">)</span> Resource creation Initiated
</span></span><span style="display:flex;"><span>CREATE_IN_PROGRESS UnauthRole                      AWS::IAM::Role             Mon Nov <span style="color:#ae81ff">14</span> <span style="color:#ae81ff">2022</span> 13:31:56 GMT+0800 <span style="color:#f92672">(</span>GMT+08:00<span style="color:#f92672">)</span> Resource creation Initiated
</span></span><span style="display:flex;"><span>⠇ Initializing project in the cloud...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>CREATE_COMPLETE AuthRole   AWS::IAM::Role Mon Nov <span style="color:#ae81ff">14</span> <span style="color:#ae81ff">2022</span> 13:32:13 GMT+0800 <span style="color:#f92672">(</span>GMT+08:00<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>CREATE_COMPLETE UnauthRole AWS::IAM::Role Mon Nov <span style="color:#ae81ff">14</span> <span style="color:#ae81ff">2022</span> 13:32:14 GMT+0800 <span style="color:#f92672">(</span>GMT+08:00<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>⠧ Initializing project in the cloud...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>CREATE_COMPLETE DeploymentBucket AWS::S3::Bucket Mon Nov <span style="color:#ae81ff">14</span> <span style="color:#ae81ff">2022</span> 13:32:17 GMT+0800 <span style="color:#f92672">(</span>GMT+08:00<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>⠧ Initializing project in the cloud...
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>CREATE_COMPLETE amplify-amplifyjsapp-dev-133145 AWS::CloudFormation::Stack Mon Nov <span style="color:#ae81ff">14</span> <span style="color:#ae81ff">2022</span> 13:32:19 GMT+0800 <span style="color:#f92672">(</span>GMT+08:00<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>✔ Successfully created initial AWS cloud resources <span style="color:#66d9ef">for</span> deployments.
</span></span><span style="display:flex;"><span>✔ Help improve Amplify CLI by sharing non sensitive configurations on failures <span style="color:#f92672">(</span>y/N<span style="color:#f92672">)</span> · no
</span></span><span style="display:flex;"><span>✔ Initialized provider successfully.
</span></span><span style="display:flex;"><span>✅ Initialized your environment successfully.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Your project has been successfully initialized and connected to the cloud!
</span></span></code></pre></div><p>成功执行以后，它将在 AWS 创建几个角色，AuthRole 和 UnauthRole，用于已登陆的用户和匿名用户通过 <em>Cognito Identity Pool</em> 来访问 AWS 后端服务。由于我们现在还没有添加任何的其他服务，所以当我们查看这两个角色的 Policy 的时候，不会看到其他权限设置。</p>
<h3 id="添加-analytics-服务">添加 analytics 服务</h3>
<p>然后，我们将添加 Pinpoint analytics 服务，这个服务对应 AWS 的 Pinpoint 服务的事件分析功能。在根目录运行下面的命令：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>amplify add analytics
</span></span></code></pre></div><p>它将提示我们创建一个 Pinpoint 的项目，我们需要提供一个项目名称。执行完成后，我们再运行</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>amplify push
</span></span></code></pre></div><p>运行 Push 以后，Amplify将会按照之前命令行的配置，为我们生成 CloudFormation 文件，并用该文件创建后台的 Pinpoint 资源。</p>
<p>如果我们已经创建好了 Pinpoint 的项目，想使用现有的项目的话，可以忽略 <em>add analytics</em> 的步骤，直接 <em>push</em> 即可，之后可以通过修改 json 配置来使用现有的 Pinpoint 项目。</p>
<h3 id="检查生成的-json-文件">检查生成的 json 文件</h3>
<p>通过 Amplify 工具添加服务之后，它通过 CloudFormation 来为我们创建 AWS 资源，然后将创建的资源的 id 等信息保存在 <em>aws-exports.js</em> 文件中。</p>
<p>运行上面的 <em>add analytics</em> 和 <em>push</em> 之后，它的内容如下：（在这个文件中，我们需要的主要是三个配置）</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">awsmobile</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;aws_project_region&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;us-east-1&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;aws_cognito_identity_pool_id&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;us-east-1:c923c1f1-285a-4b1d-acad-c19c61c2287f&#34;</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;aws_mobile_analytics_app_id&#34;</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;1e4f01b0a02c495d96c9c8410eac246e&#34;</span>
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">export</span> <span style="color:#66d9ef">default</span> <span style="color:#a6e22e">awsmobile</span>;
</span></span></code></pre></div><p>其中，<em>aws_cognito_identity_pool_id</em> 是 Amplify 为我们创建的 identity pool 的 ID，<em>aws_mobile_analytics_app_id</em> 是 Amplify 为我们创建的项目的 ID。如果要使用现有的 Pinpoint 项目，甚至现有的 <em>Cognito Identity Pool</em>，可以修改这个文件，使用现有资源的 ID 即可。</p>
<h3 id="初始化-amplify-analytics">初始化 Amplify Analytics</h3>
<p>在<a href="https://docs.amplify.aws/start/getting-started/setup/q/integration/js/">官方文档</a>中，使用 NPM 引入 <em>aws-amplify</em>  库，并使用 <em>Webpack</em> 进行打包。但是在我们本实例中，假设用户并没有使用 NPM 管理依赖。所以，我们的方法大致如下：</p>
<ol>
<li>创建一个临时的js应用，按照官方文档的方式加载 amplify 库</li>
<li>在 app.js 中初始化我们的 Pinpoint Analytics 服务</li>
<li>使用 Webpack 将js文件打包成一个 bundle.js 文件</li>
<li>在真实项目的html页面中，引入该 bundle 文件，并通过 script 脚本在需要在页面或按钮上记录事件。</li>
</ol>
<p>所以，我们按照上面文档创建一个js应用，并创建一些文件，其中 app.js 文件代码如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">Amplify</span>, <span style="color:#a6e22e">Analytics</span>, <span style="color:#a6e22e">Auth</span> } <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#34;aws-amplify&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">import</span> <span style="color:#a6e22e">awsExports</span> <span style="color:#a6e22e">from</span> <span style="color:#e6db74">&#39;./aws-exports&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Amplify</span>.<span style="color:#a6e22e">Logger</span>.<span style="color:#a6e22e">LOG_LEVEL</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;DEBUG&#39;</span> <span style="color:#75715e">// 开启debug，生产环境建议删掉这一行
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">config</span> <span style="color:#f92672">=</span> {
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Auth</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">region</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">awsExports</span>.<span style="color:#a6e22e">aws_project_region</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">identityPoolId</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">awsExports</span>.<span style="color:#a6e22e">aws_cognito_identity_pool_id</span>
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#a6e22e">Analytics</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// OPTIONAL - disable Analytics if true
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">disabled</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>,
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// OPTIONAL - Allow recording session events. Default is true.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#a6e22e">autoSessionRecord</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">true</span>,
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">AWSPinpoint</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">appId</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">awsExports</span>.<span style="color:#a6e22e">aws_mobile_analytics_app_id</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">region</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">awsExports</span>.<span style="color:#a6e22e">aws_project_region</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#a6e22e">mandatorySignIn</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">false</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#75715e">// endpointId: &#39;1234&#39;,
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      <span style="color:#a6e22e">endpoint</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">address</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;aws-amplify-jsapp-123&#39;</span>, <span style="color:#75715e">// 只有 SMS、Email中有意义
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">attributes</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">hobbies</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;piano&#39;</span>, <span style="color:#e6db74">&#39;hiking&#39;</span>] <span style="color:#75715e">// 用户在该通道的属性
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">channelType</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;IN_APP&#39;</span>, <span style="color:#75715e">// 渠道类型，如果要通知，则需要设置相应类型
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">metrics</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>          <span style="color:#75715e">// Custom metrics that your app reports to Amazon Pinpoint.
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>          <span style="color:#a6e22e">age</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">39</span>
</span></span><span style="display:flex;"><span>        },
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">optOut</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;NONE&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// Customized userId，一个用户可以有多个 endpoint
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">userId</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;mav_123&#39;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// User attributes
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">userAttributes</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">interests</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;football&#39;</span>, <span style="color:#e6db74">&#39;basketball&#39;</span>, <span style="color:#e6db74">&#39;AWS&#39;</span>],
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">FirstName</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;Mavlarn&#39;</span>]
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">Amplify</span>.<span style="color:#a6e22e">configure</span>(<span style="color:#a6e22e">config</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">const</span> <span style="color:#a6e22e">currentAuthConfig</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Auth</span>.<span style="color:#a6e22e">configure</span>();
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#39;amplify auth config:&#39;</span>, <span style="color:#a6e22e">JSON</span>.<span style="color:#a6e22e">stringify</span>(<span style="color:#a6e22e">currentAuthConfig</span>))
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">// 将这两对象放在window，可以作为全局对象使用，而无需通过 import。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>window.<span style="color:#a6e22e">Amplify</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Amplify</span>
</span></span><span style="display:flex;"><span>window.<span style="color:#a6e22e">Analytics</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">Analytics</span>
</span></span></code></pre></div><p>代码中的设置以及其作用以及在代码中注释，这里就不再赘述。</p>
<h3 id="记录事件">记录事件</h3>
<p>项目的其他文件的代码都跟上面的文档中一样，完成后运行 <em>npm dev</em>，就可以编译生成 bundle js文件在 dist 目录中，我们就可以在其他页面引入这个文件，并记录事件：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span><span style="color:#75715e">&lt;!DOCTYPE html&gt;</span>
</span></span><span style="display:flex;"><span>&lt;<span style="color:#f92672">html</span> <span style="color:#a6e22e">lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;en&#34;</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">head</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">charset</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;utf-8&#34;</span> /&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">title</span>&gt;Amplify Demo&lt;/<span style="color:#f92672">title</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">meta</span> <span style="color:#a6e22e">name</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;viewport&#34;</span> <span style="color:#a6e22e">content</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;width=device-width, initial-scale=1&#34;</span> /&gt;
</span></span><span style="display:flex;"><span>  &lt;/<span style="color:#f92672">head</span>&gt;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">body</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;app&#34;</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;app-header&#34;</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">onclick</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;recordEvent()&#34;</span>&gt;Record Event&lt;/<span style="color:#f92672">button</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;main.bundle.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">recordEvent</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// 由于我们已经通过 window.Analytics = Analytics 将它作为全局对象，所以可以直接调用它的方法。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#a6e22e">Analytics</span>.<span style="color:#a6e22e">record</span>({ <span style="color:#a6e22e">name</span><span style="color:#f92672">:</span> <span style="color:#e6db74">&#39;Custom_event&#39;</span> }); <span style="color:#75715e">// 记录自定义事件 Custom_event
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>      }
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;/<span style="color:#f92672">body</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">html</span>&gt;
</span></span></code></pre></div><p>这个 js 应用实例的完整代码，可以参考 <a href="https://github.com/Mavlarn/pinpoint-amplify-js-app">Github 上的实例项目</a>。读者可以直接从这个实例项目中的 dist 文件中找到已经打包好的 hundle.js 文件，然后修改其中的 aws_mobile_analytics_app_id 等配置来直接使用。</p>
<h3 id="更新-endpoint-属性">更新 Endpoint 属性</h3>
<p>我们提到我们使用 Pinpoint Analytics 的事件分析功能，一个主要目的就是结合 Campaign 和 Journey 功能，实现动态的选择所需的用户。例如在一个 Campaign 活动中，我们想要选择一天之内注册的用户，那我们就可以给用户的 Endpoint 设置一个 registeredDate，值就是注册时间，然后在 Campaign 的 Segment 里，创建一个动态 Segment，其条件就是注册时间晚于一天前。</p>
<p>所以，我们可以在应用中适当的地方更新用户的 Endpoint：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#f92672">html</span> <span style="color:#a6e22e">lang</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;en&#34;</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;<span style="color:#f92672">body</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;app&#34;</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#f92672">div</span> <span style="color:#a6e22e">class</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;app-body&#34;</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">h1</span>&gt;Update Endpoint&lt;/<span style="color:#f92672">h1</span>&gt;
</span></span><span style="display:flex;"><span>        &lt;<span style="color:#f92672">button</span> <span style="color:#a6e22e">onclick</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;updateEndpoint()&#34;</span>&gt;Update Endpoint&lt;/<span style="color:#f92672">button</span>&gt; 
</span></span><span style="display:flex;"><span>      &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">div</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">script</span> <span style="color:#a6e22e">src</span><span style="color:#f92672">=</span><span style="color:#e6db74">&#34;main.bundle.js&#34;</span>&gt;&lt;/<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>    &lt;<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">updateEndpoint</span>() {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">Analytics</span>.<span style="color:#a6e22e">updateEndpoint</span>({
</span></span><span style="display:flex;"><span>          <span style="color:#a6e22e">attributes</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>            <span style="color:#a6e22e">registeredDate</span><span style="color:#f92672">:</span> [<span style="color:#66d9ef">new</span> Date()]
</span></span><span style="display:flex;"><span>          }
</span></span><span style="display:flex;"><span>        })
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    &lt;/<span style="color:#f92672">script</span>&gt;
</span></span><span style="display:flex;"><span>  &lt;/<span style="color:#f92672">body</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#f92672">html</span>&gt;
</span></span></code></pre></div><p>在该实例的 html 中，我们引入了之前打包的 hundle.js 文件，当用户注册成功后，就可以调用 <code>Analytics.updateEndpoint(...)</code> 方法，并设置 <code>attributes</code> 属性，它是一个对象，它的值会被添加到当前的 Endpoint 的属性当中。我们可以使用这样的方式来给当前用户设置各种业务标签，然后用这些标签来过滤用户。</p>
<h2 id="检查-pinpoint">检查 Pinpoint</h2>
<h3 id="检查-pinpoint-事件">检查 Pinpoint 事件</h3>
<p>在页面点击按钮记录事件，或者更新 Endpoint 属性之后，我们就可以在 AWS Pinpoint 的 Console 中查看记录的事件。打开 Console，进入 Pinpoint 服务，在项目列表中找到并点击创建的项目，这里是 <em>amplifyjsapp-dev</em>。在左侧菜单中找到 Analytics - Events，就可以看到统计的 Event 信息。</p>
<blockquote>
<p>如果想要得到所有事件的明细，可以通过<a href="https://docs.amplify.aws/lib/analytics/streaming/q/platform/js/">设置 Kinesis Stream 将事件流写到 Kinesis 中然后自行处理</a>， 或者 <a href="https://docs.amplify.aws/lib/analytics/storing/q/platform/js/#installation-and-configuration">使用 Kinesis Firehose 将事件写到 S3 或其他位置</a>。</p>
</blockquote>
<p>打开 Event 试图，就能够看到事件统计。
<img src="1-pinpoint-analytics-enents.jpg" alt=""></p>
<p>默认我们只能按天查看事件的汇总图标，我们可以启用 <em>Filters</em> 功能，来按照事件类型、属性来进行搜索和过滤。例如这里，我们在页面中记录了自定义事件 <em>Custm_event1</em>，我们就可以按这个事件来查看每天的事件数量。也可以按照该事件的属性（如果有的话），或者按照 Endpoint 的属性来进行过滤。</p>
<h3 id="创建动态-segment">创建动态 Segment</h3>
<p>我们在实例中，通过 <em>updateEndpoint</em> 更新了Endpoint 的属性值，也可以更新用户属性（userAttributes），或者 Metrics，这些都能用来作为创建动态 Segment 的条件。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-js" data-lang="js"><span style="display:flex;"><span><span style="color:#a6e22e">Analytics</span>.<span style="color:#a6e22e">updateEndpoint</span>({
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">attributes</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">registeredDate</span><span style="color:#f92672">:</span> [<span style="color:#66d9ef">new</span> Date()]
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">userAttributes</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">lastOrderProducts</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;football&#39;</span>, <span style="color:#e6db74">&#39;iphone&#39;</span>, <span style="color:#e6db74">&#39;TV&#39;</span>],
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">userType</span><span style="color:#f92672">:</span> [<span style="color:#e6db74">&#39;vip&#39;</span>]
</span></span><span style="display:flex;"><span>    },
</span></span><span style="display:flex;"><span>    <span style="color:#a6e22e">metrics</span><span style="color:#f92672">:</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#a6e22e">age</span><span style="color:#f92672">:</span> <span style="color:#ae81ff">35</span>
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>})
</span></span></code></pre></div><p>其中 <em>attributes</em>、<em>userAttributes</em> 属性都是 key-value 的对象，它们的值都必须是一个列表。而 metrics 顾名思义，就是一个指标，值应该都是数值类型。</p>
<p>然后就可以在创建 Segment 的时候，使用这些属性来动态创建 Segment，按需选出想要的用户：
<img src="2-pinpoint-segment-based-on-endpoint.jpg" alt=""></p>
<p>这里，我们使用用户的注册时间晚于11月11号这天作为条件，选出了刚才的实例中测试的那个用户的 Endpoint，这样就可以结合 Campaign 或 Journey 进行其他的自定义的触达活动。创建 Campaign 或 Journey 的其他步骤不是本文的内容，就不做介绍，需要的可以参考相关文档。</p>





<footer class=" footline" >
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="../../pinpoint/" title="Pinpoints"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="../../pinpoint/customer-engagement-using-amazon-pinpoint-custom-channel/" title="使用 Amazon Pinpoint 的Custom Channel给用户发送 Whatsapp 消息" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="../../js/clipboard.min.js?1679121177"></script>
    <script src="../../js/perfect-scrollbar.min.js?1679121177"></script>
    <script src="../../js/perfect-scrollbar.jquery.min.js?1679121177"></script>
    <script src="../../js/jquery.sticky.js?1679121177"></script>
    <script src="../../js/featherlight.min.js?1679121177"></script>
    <script src="../../js/highlight.pack.js?1679121177"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="../../js/modernizr.custom-3.6.0.js?1679121177"></script>
    <script src="../../js/learn.js?1679121177"></script>
    <script src="../../js/hugo-learn.js?1679121177"></script>
    
        
            <script src="../../mermaid/mermaid.js?1679121177"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>
